<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile Page</title>
    <link rel="stylesheet" href="/stylesheets/style.css">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

</head>
<body>
    <div class="min-h-screen w-full bg-zinc-900 text-white p-5 px-10">
        <nav class="h-1/12 flex justify-between mb-10">
            <svg style="height: 50px;" data-name="Layer 1" id="Layer_1" viewBox="0 0 508.33 508.36" xmlns="http://www.w3.org/2000/svg"><defs><style>.cls-1{fill-rule:evenodd; fill: rgb(39 39 42);}.cls-2{fill:#fff;}</style></defs><title/><path class="cls-1" d="M485,29.72c11.45,15.13,16.61,40.21,19.15,70.7,3.36,45.5,4.71,100.1,6,156.52-1.67,57.47-2.35,115.43-6,156.52-2.88,31.54-9,52.66-19.22,65.47-13,12.79-37.94,23.59-73.5,26.15-43.25,3.69-96.61,3.65-155.48,5.1-65.44-1.12-109.82-.64-156.38-5.08-36.32-2.52-60.08-13.19-74.7-26.07-10.83-14.54-14-30-17-66.24-3.75-41.85-4.58-98.56-6-155.54C4,200.57,4.13,143.44,7.9,100.74,10.43,67.05,14.42,44.4,24.65,30,39,17.77,63.48,11.69,100,8.69c50-5.85,102.06-7,155.88-6.87,55.39.09,108.56,1.67,156,6.34,32,2.56,58.48,8.07,73.07,21.56Z" transform="translate(-1.83 -1.82)"/><path class="cls-2" d="M228.7,281.11c-29.17,0-42.82,27.07-42.82,53.52h0c0,10.7,0,10.7,10.7,10.7h64.23c10.7,0,10.7,0,10.7-10.7h0C271.52,308.19,257.87,281.11,228.7,281.11Z" transform="translate(-1.83 -1.82)"/><circle class="cls-2" cx="226.86" cy="225.77" r="42.82"/><path class="cls-2" d="M346.45,270.41c-29.17,0-53.52,27.07-53.52,53.52v10.7c0,10.7,0,10.7,10.7,10.7h85.64c10.7,0,10.7,0,10.7-10.7v-10.7C400,297.48,375.62,270.41,346.45,270.41Z" transform="translate(-1.83 -1.82)"/><circle class="cls-2" cx="344.61" cy="204.36" r="53.52"/><path class="cls-2" d="M132.36,291.82c-21.41,0-32.11,21.41-32.11,32.11v10.7c0,10.7,0,10.7,10.7,10.7h42.82c10.7,0,10.7,0,10.7-10.7v-10.7C164.47,313.23,153.76,291.82,132.36,291.82Z" transform="translate(-1.83 -1.82)"/><circle class="cls-2" cx="130.52" cy="247.18" r="32.11"/></svg>
            <div class="flex items-center">
                <a href="/" class="text-sm border border-zinc-700  rounded-md tracking-tight py-1.5 cursor-pointer hover:border-zinc-500 px-5 md:px-30">Explore Feed</a>
            </div>
            <div class="flex items-center">
                <a href="/logout"  class="bg-red-800 appearance-none py-2 px-4 rounded-md cursor-pointer">Logout</a>      
            </div>
        </nav>
        <div class="flex flex-col gap-2">
            <div class="flex gap-2">
                <div class="w-10 h-10 rounded-md bg-zinc-50 overflow-hidden"><a class="cursor-pointer" title="Upload Profile" href="/profile/upload"><img class="w-ful h-full cover " src="/images/uploads/<%=user.profilePic%>" alt=""></a></div>
                <h1 class="text-3xl">Hiüëãüèª, <%=user.name%></h1>
            </div>
            <h4>You can create a new post - </h4>
            <form action="/createpost" method="post">
                <textarea class="w-1/3 p-2 outline-none border mt-4 border-zinc-600" placeholder="What's in your mind?" name="content"></textarea>
                <input type="submit" class="bg-blue-800 block py-2 px-4 w-52 mt-2 rounded-md cursor-pointer" value="Create Post"></input>      
            </form>
        </div>
        <h2 class="text-3xl mt-10 mb-6">Your Posts</h2>
        <div class="flex flex-nowrap gap-2">
            <% user.posts.forEach(post => { %>
                <div class="postcard border p-5 border-zinc-700 w-1/3 rounded-md flex flex-col gap-2 bg-zinc-800">
                <h3 class="text-blue-500">@<%=user.name%></h3>
                <p><%=post.content%></p>
                <div class="flex justify-between">
                    <span class="text-blue-500 inline-block">Likes - <span class="text-white"><%=post.likes.length%></span>  </span> 
                    <a href="/edit/<%=post._id%>" class="text-zinc-400 cursor-pointer">Edit</a>
                </div>
            </div>
            <%})%>
            <%if(user.posts.length <= 0) {%>
                <div class="mt-2.5 text-zinc-600">You haven't created any post yet!</div>
            <%}%>
        </div>
    </div>
</body>
</html>